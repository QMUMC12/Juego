import random
# Función para validar que el usuario solo ingrese letras
def validar_letras(entrada):
    return entrada.isalpha()  # Verifica si solo contiene letras

# Función para validar que la opción ingresada sea piedra, papel o tijera
def validar_opcion(opcion):
    opciones_validas = ["piedra", "papel", "tijera"]
    return opcion in opciones_validas  # Retorna True si está en la lista

# Función del juego con el sistema de 2 de 3 partidas
def juego():
    opciones = ["piedra", "papel", "tijera"]
    usuario_puntos = 0
    computadora_puntos = 0

    while usuario_puntos < 2 and computadora_puntos < 2:  # El primero en ganar 2 veces, gana el juego
        usuario = input("Elige: piedra, papel o tijera: ").strip().lower()  # Se usa strip para quitar espacios

        if not validar_letras(usuario):  # Validamos que solo sean letras
            print("Solo letras.")
            continue  # Vuelve a pedir la opción

        if not validar_opcion(usuario):  # Validamos que sea una opción correcta
            print("Solo puedes elegir piedra, papel o tijera.")
            continue  # Vuelve a pedir la opción

        computadora = random.choice(opciones)
        usuario = input("Elige: piedra, papel o tijera (o 'salir' para terminar): ").strip().lower()

        if usuario == "salir":
            print("¡Gracias por jugar!")
            exit()

        if usuario not in opciones:
            print("Error: Opción no válida")
            continue

    
        if not usuario.isalpha():
            print("Solo letras")
            continue
 
        print("La computadora eligió: ", computadora)

        if usuario == computadora:
            print("Empate!")
        
        elif (usuario == "piedra" and computadora == "tijera") or \
         (usuario == "tijera" and computadora == "papel") or \
         (usuario == "papel" and computadora == "piedra"):
            print("Ganaste!")
        else:
            print("Perdiste!")

    input("\nPresiona Enter para volver al menú...")

        
while True:
    juego()

   
